(()=>{var e={877:(e,r,t)=>{const a=t(147),n=t(17);let i="/";const{readFileSync:l}=t(147),{createServer:d}=t(685),o="./static/static.json",s=process.env.DB_FILE||"./db.json",c=process.env.PORT||3e3,f="/api/clients";class m extends Error{constructor(e,r){super(),this.statusCode=e,this.data=r}}function u(e){return new Promise((r=>{let t="";e.on("data",(e=>{t+=e})),e.on("end",(()=>{r(t)}))}))}const _=(e={})=>{let r=0;const t=JSON.parse(l(s));t.map((e=>e.id=r++));let a=t.filter((e=>!e.folder)),n=t.filter((e=>"Важное"===e.folder)),i=t.filter((e=>"Отправленные"===e.folder)),d=t.filter((e=>"Черновики"===e.folder)),o=t.filter((e=>"Архив"===e.folder)),c=t.filter((e=>"Спам"===e.folder)),f=t.filter((e=>"Корзина"===e.folder)),m=a.filter((e=>!1===e.read)),u=n.filter((e=>!1===e.read)),_=i.filter((e=>!1===e.read)),p=d.filter((e=>!1===e.read)),y=o.filter((e=>!1===e.read)),w=c.filter((e=>!1===e.read)),H=f.filter((e=>!1===e.read)),g=a.filter((e=>!0===e.bookmark)),h=n.filter((e=>!0===e.bookmark)),F=i.filter((e=>!0===e.bookmark)),T=d.filter((e=>!0===e.bookmark)),x=o.filter((e=>!0===e.bookmark)),C=c.filter((e=>!0===e.bookmark)),D=f.filter((e=>!0===e.bookmark)),E=a.filter((e=>e.doc)),P=n.filter((e=>e.doc)),q=i.filter((e=>e.doc)),U=d.filter((e=>e.doc)),S=o.filter((e=>e.doc)),v=c.filter((e=>e.doc)),b=f.filter((e=>e.doc)),j=g.filter((e=>!1===e.read)),I=h.filter((e=>!1===e.read)),A=F.filter((e=>!1===e.read)),O=T.filter((e=>!1===e.read)),k=x.filter((e=>!1===e.read)),N=C.filter((e=>!1===e.read)),J=D.filter((e=>!1===e.read)),L=E.filter((e=>!1===e.read)),G=P.filter((e=>!1===e.read)),R=q.filter((e=>!1===e.read)),B=U.filter((e=>!1===e.read)),M=S.filter((e=>!1===e.read)),W=v.filter((e=>!1===e.read)),$=b.filter((e=>!1===e.read)),z=g.filter((e=>e.doc)),K=h.filter((e=>e.doc)),Q=F.filter((e=>e.doc)),V=T.filter((e=>e.doc)),X=x.filter((e=>e.doc)),Y=C.filter((e=>e.doc)),Z=D.filter((e=>e.doc)),ee=z.filter((e=>!1===e.read)),re=K.filter((e=>!1===e.read)),te=Q.filter((e=>!1===e.read)),ae=V.filter((e=>!1===e.read)),ne=X.filter((e=>!1===e.read)),ie=Y.filter((e=>!1===e.read)),le=Z.filter((e=>!1===e.read));return{clients:t,clientImportant:n,clientSent:i,clientDrafts:d,clientArchive:o,clientSpam:c,clientTrash:f,clientsDef:a,clientsDefUnread:m,clientImportantUnread:u,clientSentUnread:_,clientDraftsUnread:p,clientArchiveUnread:y,clientSpamUnread:w,clientTrashUnread:H,clientsDefFlag:g,clientImportantFlag:h,clientSentFlag:F,clientDraftsFlag:T,clientArchiveFlag:x,clientSpamFlag:C,clientTrashFlag:D,clientsDefDoc:E,clientImportantDoc:P,clientSentDoc:q,clientDraftsDoc:U,clientArchiveDoc:S,clientSpamDoc:v,clientTrashDoc:b,clientsDefUnreadFlag:j,clientImportantUnreadFlag:I,clientSentUnreadFlag:A,clientDraftsUnreadFlag:O,clientArchiveUnreadFlag:k,clientSpamUnreadFlag:N,clientTrashUnreadFlag:J,clientsDefUnreadDoc:L,clientImportantUnreadDoc:G,clientSentUnreadDoc:R,clientDraftsUnreadDoc:B,clientArchiveUnreadDoc:M,clientSpamUnreadDoc:W,clientTrashUnreadDoc:$,clientsDefFlagDoc:z,clientImportantFlagDoc:K,clientSentFlagDoc:Q,clientDraftsFlagDoc:V,clientArchiveFlagDoc:X,clientSpamFlagDoc:Y,clientTrashFlagDoc:Z,clientsDefUnreadFlagDoc:ee,clientImportantUnreadFlagDoc:re,clientSentUnreadFlagDoc:te,clientDraftsUnreadFlagDoc:ae,clientArchiveUnreadFlagDoc:ne,clientSpamUnreadFlagDoc:ie,clientTrashUnreadFlagDoc:le}};e.exports=d((async(e,r)=>{const t=n.join(__dirname,"index.html"),d=n.join(__dirname,"item.html"),s=n.join(__dirname,"main.js"),c=n.join(__dirname,"style","header.css"),p=n.join(__dirname,"style","navbar.css"),y=n.join(__dirname,"style","infoItem.css"),w=n.join(__dirname,"style","itemLetters.css"),H=n.join(__dirname,"style","mainPanel.css"),g=n.join(__dirname,"style","UI.css"),h=n.join(__dirname,"style","index.css"),F=n.join(__dirname,"style","theme.css"),T=n.join(__dirname,"img","div.png"),x=n.join(__dirname,"img","anime.jpg"),C=n.join(__dirname,"img","div.png"),D=n.join(__dirname,"img","061.svg"),E=n.join(__dirname,"img","06_dark1.svg"),P=n.join(__dirname,"img","06.svg");if("/inbox"===e.url&&(i=_(queryParams={})?.clientsDef,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/main.js"===e.url&&a.readFile(s,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/javascript"}),r.end(t))})),"/style/header.css"===e.url&&a.readFile(c,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/css"}),r.end(t))})),"/style/theme.css"===e.url&&a.readFile(F,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/css"}),r.end(t))})),"/style/navbar.css"===e.url&&a.readFile(p,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/css"}),r.end(t))})),"/style/infoItem.css"===e.url&&a.readFile(y,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/css"}),r.end(t))})),"/style/itemLetters.css"===e.url&&a.readFile(w,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/css"}),r.end(t))})),"/style/mainPanel.css"===e.url&&a.readFile(H,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/css"}),r.end(t))})),"/style/UI.css"===e.url&&a.readFile(g,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/css"}),r.end(t))})),"/style/index.css"===e.url&&a.readFile(h,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/css"}),r.end(t))})),"/img/div.png"===e.url&&a.readFile(C,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"image/png"}),r.end(t))})),"/img/anime.jpg"===e.url&&a.readFile(x,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"image/jpg"}),r.end(t))})),"/img/div.png"===e.url&&a.readFile(T,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"image/png"}),r.end(t))})),"/img/061.svg"===e.url&&a.readFile(D,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"image/svg+xml"}),r.end(t))})),"/img/06_dark1.svg"===e.url&&a.readFile(E,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"image/svg+xml"}),r.end(t))})),"/img/06.svg"===e.url&&a.readFile(P,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"image/svg+xml"}),r.end(t))})),"/item"===e.url&&(i=_(queryParams={})?.clients,a.readFile(d,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/important"===e.url&&(i=_(queryParams={})?.clientImportant,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/sent"===e.url&&(i=_(queryParams={})?.clientSent,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/drafts"===e.url&&(i=_(queryParams={})?.clientDrafts,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/archive"===e.url&&(i=_(queryParams={})?.clientArchive,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/spam"===e.url&&(i=_(queryParams={})?.clientSpam,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/trash"===e.url&&(i=_(queryParams={})?.clientTrash,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/inbox?filter__unread=0"===e.url&&(e.url.substr(f.length).split("?"),i=_(queryParams={})?.clientsDefUnread,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/inbox?filter__flag=0"===e.url&&(i=_(queryParams={})?.clientsDefFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/inbox?filter__doc=0"===e.url&&(e.url.substr(f.length).split("?"),i=_(queryParams={})?.clientsDefDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/inbox?filter__unread=0&filter__flag=0"===e.url&&(e.url.substr(f.length).split("?"),i=_(queryParams={})?.clientsDefUnreadFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/inbox?filter__unread=0&filter__doc=0"===e.url&&(e.url.substr(f.length).split("?"),i=_(queryParams={})?.clientsDefUnreadDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/inbox?filter__flag=0&filter__doc=0"===e.url&&(e.url.substr(f.length).split("?"),i=_(queryParams={})?.clientsDefFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/inbox?filter__unread=0&filter__flag=0&filter__doc=0"===e.url&&(e.url.substr(f.length).split("?"),i=_(queryParams={})?.clientsDefUnreadFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/important?filter__unread=0"===e.url&&(i=_(queryParams={})?.clientImportantUnread,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/important?filter__flag=0"===e.url&&(i=_(queryParams={})?.clientImportantFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/important?filter__doc=0"===e.url&&(e.url.substr(f.length).split("?"),i=_(queryParams={})?.clientImportantDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/important?filter__unread=0&filter__flag=0"===e.url&&(i=_(queryParams={})?.clientImportantUnreadFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/important?filter__unread=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientImportantUnreadDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/important?filter__flag=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientImportantFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/important?filter__unread=0&filter__flag=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientImportantUnreadFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/sent?filter__unread=0"===e.url&&(i=_(queryParams={})?.clientSentUnread,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/sent?filter__flag=0"===e.url&&(i=_(queryParams={})?.clientSentFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/sent?filter__doc=0"===e.url&&(i=_(queryParams={})?.clientSentDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/sent?filter__unread=0&filter__flag=0"===e.url&&(i=_(queryParams={})?.clientSentUnreadFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/sent?filter__unread=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientSentUnreadDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/sent?filter__flag=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientSentFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/sent?filter__unread=0&filter__flag=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientSentUnreadFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/drafts?filter__unread=0"===e.url&&(i=_(queryParams={})?.clientDraftsUnread,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/drafts?filter__flag=0"===e.url&&(i=_(queryParams={})?.clientDraftsFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/drafts?filter__doc=0"===e.url&&(i=_(queryParams={})?.clientDraftsDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/drafts?filter__unread=0&filter__flag=0"===e.url&&(i=_(queryParams={})?.clientDraftsUnreadFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/drafts?filter__unread=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientDraftsUnreadDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/drafts?filter__flag=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientDraftsFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/drafts?filter__unread=0&filter__flag=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientDraftsUnreadFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/archive?filter__unread=0"===e.url&&(i=_(queryParams={})?.clientArchiveUnread,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/archive?filter__flag=0"===e.url&&(i=_(queryParams={})?.clientArchiveFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/archive?filter__doc=0"===e.url&&(i=_(queryParams={})?.clientArchiveDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/archive?filter__unread=0&filter__flag=0"===e.url&&(i=_(queryParams={})?.clientArchiveUnreadFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/archive?filter__unread=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientArchiveUnreadDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/archive?filter__flag=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientArchiveFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/archive?filter__unread=0&filter__flag=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientArchiveUnreadFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/spam?filter__unread=0"===e.url&&(i=_(queryParams={})?.clientSpamUnread,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/spam?filter__flag=0"===e.url&&(i=_(queryParams={})?.clientSpamFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/spam?filter__doc=0"===e.url&&(i=_(queryParams={})?.clientSpamDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/spam?filter__unread=0&filter__flag=0"===e.url&&(i=_(queryParams={})?.clientSpamUnreadFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/spam?filter__unread=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientSpamUnreadDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/spam?filter__flag=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientSpamFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/spam?filter__unread=0&filter__flag=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientSpamUnreadFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/trash?filter__unread=0"===e.url&&(i=_(queryParams={})?.clientTrashUnread,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/trash?filter__flag=0"===e.url&&(i=_(queryParams={})?.clientTrashFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/trash?filter__doc=0"===e.url&&(i=_(queryParams={})?.clientTrashDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/trash?filter__unread=0&filter__flag=0"===e.url&&(i=_(queryParams={})?.clientTrashUnreadFlag,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/trash?filter__unread=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientTrashUnreadDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/trash?filter__flag=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientTrashFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/trash?filter__unread=0&filter__flag=0&filter__doc=0"===e.url&&(i=_(queryParams={})?.clientTrashUnreadFlagDoc,a.readFile(t,((e,t)=>{e?(r.writeHead(500),r.end("Error")):(r.writeHead(200,{"Content-Type":"text/html"}),r.end(t))}))),"/static"===e.url){const[t]=e.url.substr(f.length).split("?"),n=JSON.parse(l(o)),i=await(async()=>{if(""===t||"/"===t){if("GET"===e.method)return n;if("POST"===e.method){const t=await u(e);r.statusCode=201,n[0].lang=JSON.parse(t.trim()),a.writeFileSync(o,JSON.stringify(n))}}})();r.end(JSON.stringify(i))}if("/api/mailCategories"===e.url){r.setHeader("Content-Type","application/json");const[t,a]=e.url.substr(f.length).split("?"),n=await(async()=>"GET"===e.method?i.splice(0,40):"POST"===e.method?(await u(e),r.statusCode=201,i):null)();r.end(JSON.stringify(n))}if("/api/clients"===e.url){if(r.setHeader("Content-Type","application/json"),r.setHeader("Access-Control-Allow-Origin","*"),r.setHeader("Access-Control-Allow-Methods","GET, POST, PATCH, DELETE, OPTIONS"),r.setHeader("Access-Control-Allow-Headers","Content-Type"),"OPTIONS"===e.method)return void r.end();if(!e.url||!e.url.startsWith(f))return r.statusCode=404,void r.end(JSON.stringify({message:"Not Found"}));const[t,a]=e.url.substr(f.length).split("?"),n={};if(a)for(const e of a.split("&")){const[r,t]=e.split("=");n[r]=t?decodeURIComponent(t):""}try{const a=await(async()=>{if(""===t||"/"===t){if("GET"===e.method)return i.splice(0,40);if("POST"===e.method){const t=await u(e);return r.statusCode=201,i.filter((e=>e.id==t))}}return null})();r.end(JSON.stringify(a))}catch(e){e instanceof m?(r.writeHead(e.statusCode),r.end(JSON.stringify(e.data))):(r.statusCode=500,r.end(JSON.stringify({message:"Server Error"})),console.error(e))}}})).on("listening",(()=>{console.log(`Адрес http://localhost:${c}/inbox`),console.log("Нажмите CTRL+C, чтобы остановить сервер")})).listen(c)},147:e=>{"use strict";e.exports=require("fs")},685:e=>{"use strict";e.exports=require("http")},17:e=>{"use strict";e.exports=require("path")}},r={};!function t(a){var n=r[a];if(void 0!==n)return n.exports;var i=r[a]={exports:{}};return e[a](i,i.exports,t),i.exports}(877)})();